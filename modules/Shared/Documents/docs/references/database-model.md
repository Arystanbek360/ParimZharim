## Таблицы базы данных для модуля "Документы"

### Таблица `documents_documents` - Документы

- **id** (BIGINT, PK): Уникальный идентификатор документа.
- **name** (VARCHAR): Название документа.
- **number** (VARCHAR): Уникальный номер документа.
- **type** (VARCHAR): Тип документа.
- **status** (VARCHAR): Статус документа.
- **version_number** (INT): Номер версии документа.
- **creator_id** (BIGINT): Идентификатор создателя документа.
- **package_id** (BIGINT, NULLABLE): Идентификатор пакета документов.
- **file** (VARCHAR, NULLABLE): Путь к файлу документа.
- **content** (JSONB, NULLABLE): Произвольный контент в формате JSON.
- **metadata** (JSONB, NULLABLE): Метаданные документа.
- **date_from** (DATE): Дата начала действия документа.
- **date_to** (DATE, NULLABLE): Дата окончания действия документа.
- **access_mode** (VARCHAR): Режим доступа к документу (AnyUser, SpecificUsers).
- **default_access_type** (VARCHAR): Тип доступа по умолчанию (READ, COMMENT, WRITE). По умолчанию READ.
- **timestamps**: Временные метки создания и обновления записи.
- **soft_deletes**: Временная метка мягкого удаления записи.

  #### Индексы:
- **type**: Индекс для поиска документов по типу.
- **status**: Индекс для поиска документов по статусу.
- **creator_id**: Индекс для связи с создателем документа.
- **package_id**: Индекс для связи с пакетом документов.
- **date_from**: Индекс для поиска документов по дате начала действия.
- **date_to**: Индекс для поиска документов по дате окончания действия.
- **[type, number]**: Индекс по типу и номеру для документа.
- **[type, number, version_number]**: Unique-индекс для версии документа.
- **number**: GIN-индекс для номера документа.
- **name**: GIN-индекс для названия документа.

### Таблица `documents_packages` - Пакеты документов

- **id** (BIGINT, PK): Уникальный идентификатор пакета.
- **name** (VARCHAR): Название пакета.
- **type** (VARCHAR): Тип пакета документов.
- **status** (VARCHAR): Статус пакета.
- **creator_id** (BIGINT): Идентификатор создателя пакета.
- **parent_package_id** (BIGINT, NULLABLE): Идентификатор родительского пакета.
- **metadata** (JSONB): Метаданные пакета.
- **access_mode** (VARCHAR): Режим доступа к документу (AnyUser, SpecificUsers).
- **default_access_type** (VARCHAR): Тип доступа по умолчанию (READ, COMMENT, WRITE). По умолчанию READ.
- **timestamps**: Временные метки создания и обновления записи.
- **soft_deletes**: Временная метка мягкого удаления записи.

  #### Индексы:
- **type**: Индекс для поиска пакетов по типу.
- **status**: Индекс для поиска пакетов по статусу.
- **creator_id**: Индекс для связи с создателем пакета.
- **parent_package_id**: Индекс для связи с родительским пакетом.
- **name**: GIN-индекс для названия документа.

### Таблица `documents_tags` - Теги

- **id** (BIGINT, PK): Уникальный идентификатор тега.
- **name** (VARCHAR): Название тега.
- **timestamps**: Временные метки создания и обновления записи.
- **soft_deletes**: Временная метка мягкого удаления записи.

### Таблица `documents_document_to_user` - Права доступа пользователей к документам

- **document_id** (BIGINT): Идентификатор документа.
- **user_id** (BIGINT): Идентификатор пользователя.
- **access_type** (VARCHAR): Тип доступа (READ, COMMENT, WRITE).
- **timestamps**: Временные метки создания и обновления записи.

  #### Индексы:
- **document_id**: Индекс для связи с документом.
- **user_id**: Индекс для связи с пользователем.
- **[document_id, user_id]**: Unique-индекс для связи с пользователем и документом.

### Таблица `documents_package_to_user` - Права доступа пользователей к пакетам документов

- **package_id** (BIGINT): Идентификатор пакета.
- **user_id** (BIGINT): Идентификатор пользователя.
- **access_type** (ENUM): Тип доступа (READ, COMMENT, WRITE).
- **timestamps**: Временные метки создания и обновления записи.

  #### Индексы:
- **package_id**: Индекс для связи с пакетом.
- **user_id**: Индекс для связи с пользователем.
- **[package_id, user_id]**: Unique-индекс для связи с пользователем и пакетом.

### Таблица `documents_tag_to_document` - Связи между тегами и документами

- **tag_id** (BIGINT): Идентификатор тега.
- **document_id** (BIGINT): Идентификатор документа.
- **timestamps**: Временные метки создания и обновления записи.

  #### Индексы:
- **tag_id**: Индекс для связи с тегом.
- **document_id**: Индекс для связи с документом.
- **[tag_id, document_id]**: Unique-индекс для связи с тегом и документом.
