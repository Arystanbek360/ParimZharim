## Проверка функциональности предоплаты заказа в админ-панели

### Описание

**Цель**: Проверка корректности работы функционала предоплаты заказа в административной панели.

Тестирование раздела "Платежи" в заказе, создание предоплаты, выбор метода оплаты и проверка изменения статуса заказа на "подтвержден".

### Предусловия и необходимые инструменты

- Администратор должен быть авторизован в административной панели.
- Должны быть настроены доступные методы оплаты: Каспий и наличные.
- Система должна быть настроена на работу с кроном, проверяющим статусы заказов и платежей каждые 1 минуту.

### Тестовые данные
- Заказ: Заказ на 17 июля с 16:00, 12 взрослых, 4 часа.
- Клиент: Имя клиента "Кек".

### Шаги

#### Шаг 1:
Создать заказ в административной панели. Выбрать объект, клиента и заполнить остальные обязательные поля.
**Ожидаемый результат**: Заказ успешно создан, в разделе "Платежи" отображается сообщение, что платежи отсутствуют.

#### Шаг 2:
Нажать на три точки в правой части страницы ("Действия пользователя") и выбрать "Внести предоплату по заказу"
**Ожидаемый результат**: Отображается модальное окно метода оплаты и ввода суммы предоплаты.

#### Шаг 3:
Выбрать метод оплаты (Каспий или наличные) и ввести сумму предоплаты (например, 18000).
**Ожидаемый результат**: Поля принимают введенные данные.

#### Шаг 4:
Перейти в конец страницы к блоку "Платежи". 
**Ожидаемый результат**: Появился элемент таблицы с созданным платежом со статусом "Создан"

#### Шаг 5:
Отменить созданный платеж и обновить страницу.
**Ожидаемый результат**: Платеж меняет статус на "Отменен", в "Действиях пользователя" появилась кнопка "Внести предоплату по заказу""

> После этого шага надо повторить действия в **Шага 2**, минуя **Шаг 5**

#### Шаг 6:
Спустя минуту перезагрузить страницу.
**Ожидаемый результат**: Статус предоплаты изменяется на "В ожидании".

#### Шаг 7:
Нажать на три точки в таблице оплаты и выбрать "Завершить оплату" и обновить страницу
**Ожидаемый результат**: Статус платежа изменяется на "Успешно". Статус заказа изменится на "Подтвержден" Из "Действий пользователя" исчезнет строка "Внести предоплату за заказ"

#### Шаг 8:
Обновить страницу. Отменить заказ.
**Ожидаемый результат**: Заказ перешел в статус "Отменен", статус платежа не изменился и остался "Успешно"

#### Шаг 9:
Отменить заказ со статусом предоплаты "Создан" или "В ожидании".
**Ожидаемый результат**: Заказ и соответствующий платеж отменяются.

#### Шаг 10:
Выставить в разделе "Расписание" произвольному объекту время ожидания подтверждения на 2 минуты,и использовать его в новом заказе. 
По истечению этого времени проверить статус заказа.
**Ожидаемый результат**: Заказ автоматически отменяется.


### Постусловия

- Вернуть время ожидания подтверждения в исходное состояние
- Удалить тестовый заказ и все связанные с ним данные для возврата системы в исходное состояние.
- Проверить, что методы оплаты для админки остались доступными (Каспий и наличные).


