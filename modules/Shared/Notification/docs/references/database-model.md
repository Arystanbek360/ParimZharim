## Таблицы базы данных

### Таблица `notifications_notifications` - Уведомления
- **id** (BIGINT, PK): Уникальный идентификатор уведомления.
- **title** (VARCHAR): Заголовок уведомления.
- **body** (TEXT): Текст уведомления.
- **metadata** (JSONB): Дополнительные данные уведомления в формате JSON. - nullable
- **planed_send_at** (TIMESTAMP): Дата и время запланированной отправки уведомления.
- **type** (VARCHAR): Тип уведомления.
- **channels** (JSONB): Список каналов для отправки уведомления (например, email, push).
- **timestamps**: Временные метки создания и обновления записи.

Индексы:
- **planed_send_at**: Индекс для сортировки уведомлений по времени отправки.

### Таблица `notifications_user_to_notification` - Связь уведомлений с пользователями
- **user_id** (BIGINT, FK): Идентификатор пользователя.
- **notification_id** (BIGINT, FK): Идентификатор уведомления.
- **status** (VARCHAR): Статус уведомления (например, 'CREATED', 'SENT', 'READ', 'FAILED').
- **read_at** (TIMESTAMP): Дата и время, когда уведомление было прочитано. - nullable
- **send_at** (TIMESTAMP): Дата и время отправки уведомления пользователю. - nullable
- **timestamps**: Временные метки создания и обновления записи.

Индексы:
- **user_id**: Индекс для связи с пользователем.
- **notification_id**: Индекс для связи с уведомлением.
- **status**: Индекс для фильтрации уведомлений по статусу.
- **send_at**: Индекс для сортировки уведомлений по времени отправки.

### Миграция для обновления таблицы User Devices.
- **device_token** (VARCHAR): Токен устройства для отправки уведомлений. - nullable
Индексы:

### Таблица `idm_user_devices` - Устройства пользователей (IDM Module)
- **user_id** (BIGINT, FK): Идентификатор пользователя.
- **device_id** (VARCHAR): Идентификатор устройства.

Индексы:
- **user_id**: Индекс для связи с пользователем.
