## Авторизация в мобильном приложении

### Описание

**Цель**: Тестирование сценария авторизации в мобильном приложении, включая позитивные и негативные кейсы, проверку повторного запроса смс-кода, работы таймера при сворачивании приложения и лимита на количество смс за день.

Тестирование процесса авторизации, начиная с запуска приложения, ввода номера телефона, получения и ввода смс-кода, а также повторного запроса смс-кода, включая проверку работы таймера при сворачивании и открытии приложения, и лимита на количество смс за день.

### Предусловия и необходимые инструменты

- Установленное мобильное приложение.
- Тестовые номера телефона формата +7000000хххх.

### Тестовые данные
- Номер телефона (тестовый): диапазон номеров от +70000001231 до +70000001255
- Номер телефона (настоящий): зарегистрированный в России или Казахстане, на который можно получить SMS-сообщение.
- Смс-код: 666666 (для тестовых номеров)

### Позитивные кейсы

#### Шаг 1:
Запустить мобильное приложение.
**Ожидаемый результат**: Отображается стартовый экран с кнопками «Войти» и «Продолжить как гость».

#### Шаг 2:
Нажать на кнопку «Войти».
**Ожидаемый результат**: Отображается экран ввода номера телефона с заголовком «Войти», задизейбленной кнопкой «Получить код» и кнопкой «Назад».

#### Шаг 3:
Ввести номер телефона.
**Ожидаемый результат**: Появляется маска для ввода десятизначного номера телефона. Когда введены все 10 цифр, кнопка «Получить код» становится активной.

#### Шаг 4:
Нажать кнопку «Получить код».
**Ожидаемый результат**: Отображается экран «Введите код» с текстом, номером телефона, полем для ввода кода из 6 ячеек и кнопкой «Войти», которая задизейблена.

#### Шаг 5:
Ввести смс-код.
**Ожидаемый результат**: Когда введены все 6 цифр кода, кнопка «Войти» становится активной.

#### Шаг 6:
Нажать кнопку «Войти».
**Ожидаемый результат**: Пользователь авторизуется и попадает в приложение.

#### Шаг 7:
Нажать кнопку «Отправить код еще раз» более 5 раз, с интервалом в 30 секунд.
**Ожидаемый результат**: Каждая повторная отправка кода осуществляется с задержкой в 30 секунд.

#### Шаг 8:
Во время работы таймера свернуть приложение и открыть его заново.
**Ожидаемый результат**: Таймер корректно продолжает отсчитывать время с момента сворачивания.

### Негативные кейсы

#### Шаг 1:
Запустить мобильное приложение.
**Ожидаемый результат**: Отображается стартовый экран с кнопками «Войти» и «Продолжить как гость».

#### Шаг 2:
Нажать на кнопку «Войти».
**Ожидаемый результат**: Отображается экран ввода номера телефона с заголовком «Войти», задизейбленной кнопкой «Получить код» и кнопкой «Назад».

#### Шаг 3:
Ввести неправильный номер телефона (менее 10 цифр).
**Ожидаемый результат**: Кнопка «Получить код» остается задизейбленной.

#### Шаг 4:
Ввести номер телефона и нажать кнопку «Получить код».
**Ожидаемый результат**: Отображается экран «Введите код» с текстом, номером телефона, полем для ввода кода из 6 ячеек и кнопкой «Войти», которая задизейблена.

#### Шаг 5:
Ввести неправильный смс-код.
**Ожидаемый результат**: Появляется сообщение об ошибке «Некорректный смс-код», кнопка «Войти» остается задизейбленной.

#### Шаг 6:
Нажать кнопку «Отправить код еще раз» более 5 раз, с интервалом менее 30 секунд.
**Ожидаемый результат**: Повторная отправка кода невозможна до истечения 30 секунд.

#### Шаг 7:
Во время работы таймера свернуть приложение и открыть его заново.
**Ожидаемый результат**: Таймер сбрасывается или не продолжает корректно отсчитывать время.

#### Шаг 8:
Нажать кнопку «Отправить код еще раз» шестой раз в течение одного дня.
**Ожидаемый результат**: Появляется сообщение об ошибке «Лимит запросов смс исчерпан на сегодня».

### Сценарий с реальным номером телефона

#### Шаг 1:
Запустить мобильное приложение.
**Ожидаемый результат**: Отображается стартовый экран с кнопками «Войти» и «Продолжить как гость».

#### Шаг 2:
Нажать на кнопку «Войти».
**Ожидаемый результат**: Отображается экран ввода номера телефона с заголовком «Войти», задизейбленной кнопкой «Получить код» и кнопкой «Назад».

#### Шаг 3:
Ввести реальный номер телефона.
**Ожидаемый результат**: Появляется маска для ввода десятизначного номера телефона. Когда введены все 10 цифр, кнопка «Получить код» становится активной.

#### Шаг 4:
Нажать кнопку «Получить код».
**Ожидаемый результат**: Отображается экран «Введите код» с текстом, номером телефона, полем для ввода кода из 6 ячеек и кнопкой «Войти», которая задизейблена. На телефон приходит смс с кодом.

#### Шаг 5:
Ввести полученный смс-код.
**Ожидаемый результат**: Когда введены все 6 цифр кода, кнопка «Войти» становится активной.

#### Шаг 6:
Нажать кнопку «Войти».
**Ожидаемый результат**: Пользователь авторизуется и попадает в приложение.

### Постусловия

- Пользователь выходит из системы, чтобы очистить сессию.
- Удалить все тестовые данные.

### Замечания/Примечания

- Для проверки негативных сценариев могут понадобиться различные тестовые номера.
- Убедиться, что таймер повторной отправки смс-кода работает корректно.
- Реальный номер телефона использовать с осторожностью, учитывая возможные тарифы оператора.
- Особое внимание уделить проверке работы таймера при сворачивании и открытии приложения.
- Проверить отображение ошибки при превышении лимита запросов смс за день.

