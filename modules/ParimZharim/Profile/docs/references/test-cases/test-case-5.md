## Проверка обновления данных клиента в API

### Описание

**Цель**: Тестирование функции обновления данных клиента в API с использованием валидного и невалидного токена, проверки обязательных полей и валидации даты рождения.

Тестирование включает проверку обновления данных клиента с обязательными полями (имя и дата рождения), валидацию даты рождения и проверку существования клиента.
Данные отправляются через POST-запрос на указанный URL, а в ответе ожидается соответствующий статус код и обновленная модель клиента.

### Предусловия и необходимые инструменты

- Доступ к API `/api/profile/customer/update-profile` с возможностью отправки POST-запросов.
- Валидный токен, полученный в  test-case-1, test-case-2.
- Инструмент для отправки запросов, например Postman.

### Тестовые данные
- Валидный токен: valid_token (предполагается получение из test-case-1, test-case-2)
- Невалидный токен: invalid_token
- Имя: "Updated User" (строка, максимум 255 символов)
- Дата рождения: "2000-01-01" (формат YYYY-MM-DD)
- Дата рождения в модели клиента: "1990-01-01" (формат YYYY-MM-DD)
- Дата рождения, которая ранее не была задана: "2001-01-01" (формат YYYY-MM-DD)

### Шаги

#### Шаг 1:
Отправить POST-запрос с валидным токеном и новым именем, без изменения даты рождения на `/api/profile/customer/update-profile`.
**Ожидаемый результат**: Возвращается код ответа 200 и обновленная модель клиента.

#### Шаг 2:
Отправить POST-запрос с валидным токеном и именем, передав дату рождения, которая совпадает с текущей датой рождения клиента, на`/api/profile/customer/update-profile`.
**Ожидаемый результат**: Ничего не произойдет, возвращается код ответа 200 и текущая модель клиента.

#### Шаг 3:
Отправить POST-запрос с валидным токеном и именем, передав дату рождения, которая отличается от текущей даты рождения клиента, на `/api/profile/customer/update-profile`.
**Ожидаемый результат**: Возвращается код ошибки 422 с сообщением «Changing birth date is not allowed».

#### Шаг 4:
Отправить POST-запрос с валидным токеном для пользователя, у которого не найден клиент, на `/api/profile/customer/update-profile`.
**Ожидаемый результат**: Возвращается код ошибки 404 с сообщением «Customer not found».

#### Шаг 5:
Отправить POST-запрос с валидным токеном, не передавая имя, на `/api/profile/customer/update-profile`.
**Ожидаемый результат**: Возвращается код ошибки 400 с сообщением «Name is required».

#### Шаг 6:
Отправить POST-запрос с невалидным токеном на `/api/profile/customer/update-profile`u.
**Ожидаемый результат**: Возвращается код ошибки 401 с сообщением о неавторизованном доступе.

#### Шаг 7:
Проверить наличие записи в таблице профилей клиентов после успешного запроса.
**Ожидаемый результат**: В таблице `profile_customers` должна обновиться запись.
В таблице `ìdm_users` должны обновиться данные.

### Постусловия

- Удалить тестовые данные из базы данных, если они были созданы.
- Восстановить настройки системы при необходимости.

### Замечания/Примечания

- Тестирование предполагает наличие валидных данных для токенов и корректной настройки системы.
- Для проверки записей в базе данных может потребоваться доступ к административным инструментам.
